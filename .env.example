# =============================================================================
# Sparky AI Agent - Environment Configuration Example
# =============================================================================
# Copy this file to .env and fill in your actual values
# Do NOT commit .env to version control - it contains sensitive information
# =============================================================================

# -----------------------------------------------------------------------------
# Required: Google AI (Gemini) Configuration
# -----------------------------------------------------------------------------
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# -----------------------------------------------------------------------------
# Optional: AI Model Configuration
# -----------------------------------------------------------------------------
# Which Gemini model to use (default: gemini-2.0-flash)
# Options: gemini-2.0-flash, gemini-1.5-pro, gemini-1.5-flash
AGENT_MODEL=gemini-2.0-flash

# -----------------------------------------------------------------------------
# Optional: Token Budget & Context Management
# -----------------------------------------------------------------------------
# Percentage of model's context window to use (0.1 to 1.0, default: 0.8)
# Lower values leave more room for responses, higher values provide more context
SPARKY_TOKEN_BUDGET_PERCENT=0.8

# When to trigger conversation summarization (0.0 to 1.0, default: 0.85)
# Triggers when context usage exceeds this threshold
SPARKY_SUMMARY_TOKEN_THRESHOLD=0.85

# How often to trigger reflection cycles (in turns, default: 10)
SPARKY_REFLECT_EVERY=10

# -----------------------------------------------------------------------------
# Optional: Web UI Configuration
# -----------------------------------------------------------------------------
# React app WebSocket and API connection settings
REACT_APP_WS_HOST=localhost
REACT_APP_WS_PORT=8000
REACT_APP_API_HOST=localhost
REACT_APP_API_PORT=8000

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# Main database for MetaMCP (default: metamcp_db)
POSTGRES_DB=metamcp_db

# Database credentials
POSTGRES_USER=metamcp_user
POSTGRES_PASSWORD=change_this_secure_password

# Database connection details
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# External port for accessing PostgreSQL from host (default: 9433)
POSTGRES_EXTERNAL_PORT=9433

# Sparky's separate database (default: sparky_db)
SPARKY_DB=sparky_db

# Full database URL for Sparky (auto-constructed from above values)
SPARKY_DB_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${SPARKY_DB}

# -----------------------------------------------------------------------------
# Optional: MetaMCP Configuration
# -----------------------------------------------------------------------------
# Application URL for MetaMCP UI
APP_URL=http://localhost:12008

# Auth secret for MetaMCP (generate a secure random string)
# Generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=your-super-secret-key-change-this-in-production

# Docker networking configuration
TRANSFORM_LOCALHOST_TO_DOCKER_INTERNAL=true

# -----------------------------------------------------------------------------
# Optional: Logging Configuration
# -----------------------------------------------------------------------------
# Directory for log files (default: logs)
LOG_DIR=logs

# -----------------------------------------------------------------------------
# Development Notes
# -----------------------------------------------------------------------------
# - The defaults above work for Docker Compose setup
# - For local development, you may need to change POSTGRES_HOST to localhost
# - Generate secure passwords for production deployments
# - Keep your .env file secure and never commit it to version control
